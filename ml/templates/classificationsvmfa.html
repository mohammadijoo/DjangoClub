{% extends "portfolio/base-2.html" %}

{% block cssStyle %}  
.lighttag {
  color: #e8f9fd !important;
}
{% endblock %}
{% block content %}
<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" style="direction:rtl !important; float:right; font-family: 'Sahel';">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header" style="direction:rtl !important; float:right">
                <h5 class="modal-title" id="exampleModalLabel" style="color:black; direction:rtl !important; float:right !important; font-family: 'Sahel'; text-align:justify;">  نتایج پیش بینی:  </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" style="direction:rtl !important; float:right; text-align:justify;">
                <h5 style="color:black; direction:rtl !important; float:right !important; font-family: 'Sahel'; text-align:justify;">  ورودی های طبقه بندی:  </h5><br><br>
                <div style="color:black; direction:rtl !important; float:right !important; text-align:justify;">طول کاسبرگ: <span id="sl" style="color:black;"></span></div> <br>
                <div style="color:black; direction:rtl !important; float:right !important; text-align:justify;">عرض کاسبرگ: <span id="sw" style="color:black;"></span></div> <br>
                <div style="color:black; direction:rtl !important; float:right !important; text-align:justify;">طول گلبرگ: <span id="pl" style="color:black;"></span></div> <br>
                <div style="color:black; direction:rtl !important; float:right !important; text-align:justify;">عرض گلبرگ: <span id="pw" style="color:black;"></span></div> <br>
                <h5 class="pt-3" style="color:black; direction:rtl !important; float:right !important; font-family: 'Sahel'; text-align:justify;">   نتیجه پیش بینی نوع گل نیلوفر: </h5>  <br>
                <div id="prediction" style="color:black;"></div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">بستن</button>
                <a class="btn btn-primary" href="{% url 'ml:classificationresultsvmfa' %}" role="button"> مشاهده نتایج قبلی </a>
            </div>
        </div>
    </div>
</div>

<!--<h1 ></h1>-->

<div class="container pt-3" style="direction:rtl !important; font-family: 'Sahel', 'BTraffic' !important;">
    <div class="row justify-content-md-center">
        <div class="col-md-12 ustify-content-md-center text-center">
            
            <span style="font-size:1.5rem; font-weight:600; " class="m-2 ">
                <a href="{% url 'ml:classificationresultsvmfa' %}" target="_blank" style="border-bottom: 1px solid #ffb766;" class="lighttag"> 
                    نتایج</a>
            </span> 
            
            <span style="font-size:1.5rem; font-weight:600; " class="m-2">
                <a href="https://github.com/mohammadijoo/Datasets/blob/main/iris.py" target="_blank" style="border-bottom: 1px solid #ffb766;" class="lighttag"> 
                    کد نمونه</a>
            </span>
            
            <span style="font-size:1.5rem; font-weight:600; " class="m-2">
                <a href="https://github.com/mohammadijoo/Datasets/blob/main/iris.csv" target="_blank" style="border-bottom: 1px solid #ffb766;" class="lighttag"> 
                    دیتاست </a>
            </span> <br>
            
        </div>
        
        <div class="col-md-2"></div>
        <div class="col-md-8">
            
            <h1 style="font-family: 'Sahel', 'Caveat Brush', cursive; color:#A28089; font-size:3rem" class="text-center mt-4 mb-1">
                طبقه بندی نوع گل نیلوفر
            </h1>
            <h1 style="font-family: 'Sahel', 'Caveat Brush', cursive; color:#A28089; font-size:2rem" class="text-center mb-4">
                با استفاده از مدل <u>Support Vector Machine</u> 
            </h1>
            <h6 style="color: #00ABE4; font-size:0.8rem;" class="text-center mb-2">
                پس از تکمیل و ارسال فرم، حداقل 10 ثانیه صبر کنید تا مدل نتایج را محاسبه نموده و نمایش دهد. <br> همچنین، تمام اعداد اعشاری وارد شده باید حداکثر 2 رقم اعشار داشته باشند، مانند: 1.23
            </h6>
            <form action="" id="post-form">
                {% csrf_token %}
                <div class="form-group">
                    <label for="sepal_length" style="direction:rtl !important; text-align:justify; float:right"> طول کاسبرگ <small class="pl-4" style="color:#BFA181;">  (بین 4 و 8) </small> </label>
                    <input type="number" step="0.01" class="form-control" id="sepal_length" placeholder="" required>
                </div>
                <div class="form-group">
                    <label for="Sepal Width" style="direction:rtl !important; text-align:justify; float:right"> عرض کاسبرگ <small class="pl-4" style="color:#BFA181;">  (بین 2 و 5)  </small> </label>
                    <input type="number" step="0.01" class="form-control" id="sepal_width" placeholder="" required>
                </div>
                <div class="form-group">
                    <label for="petal_length" style="direction:rtl !important; text-align:justify; float:right"> طول گلبرگ <small class="pl-4" style="color:#BFA181;">  (بین 1 و 7)  </small> </label>
                    <input type="number" step="0.01" class="form-control" id="petal_length" placeholder="" required>
                </div>
                <div class="form-group">
                    <label for="petal_width" style="direction:rtl !important; text-align:justify; float:right"> عرض گلبرگ <small class="pl-4" style="color:#BFA181;">   (بین 0.1 و 3)   </small> </label>
                    <input type="number" step="0.01" class="form-control" id="petal_width" placeholder="" required>
                </div>
                <button type="submit" value="Submit" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">ارسال</button>
            </form>
        </div>
        <div class="col-md-2"></div>
        
        
        <div class="col-md-12 mt-5">
            
            <h1 style="font-family: 'Sahel', 'Caveat Brush', cursive; color:#99775C; font-size:2.5rem" class="text-justify mt-4 mb-1">
                توضیحات مدل:
            </h1>
            
            <p style="font-size:1.3rem" class="text-justify">
                
                طبقه بندی یک روش یادگیری ماشینی نظارت شده است که در آن مدل سعی می کند برچسب صحیح یک داده ورودی داده شده را پیش بینی کند. یکی از الگوریتم هایی که برای طبقه بندی استفاده می شود، <a href="https://en.wikipedia.org/wiki/Support_vector_machine" target="_blank">“Support Vector Machine”</a>  یا مخفف آن SVM است. <br>
                در اینجا، ما از دیتاست <b style="color:#6E6E6E"><u>iris.csv</u></b> برای اهداف طبقه بندی استفاده می کنیم و می توانید این دیتاست را از لینک بالای این صفحه دانلود کنید. این دیتاست دارای 4 متغیر ویژگی است: <br>
                “<i style="color:#6ACFC7">طول کاسبرگ</i>”, “<i style="color:#6ACFC7">عرض کاسبرگ</i>”, “<i style="color:#6ACFC7">طول گلبرگ</i>” و “<i style="color:#6ACFC7">عرض گلبرگ</i>” <br>
                و متغیر پیش بینی برای هر مورد در دیتاست، نوع گل نیلوفر است که دارای 3 مقدار است:  <br>
                “<i style="color:#6ACFC7">Iris Setosa</i>”, “<i style="color:#6ACFC7">Iris Versicolor</i>”, “<i style="color:#6ACFC7">Iris Virginica</i>”. <br>
                در فرم بالا مقادیر 4 متغیر ویژگی را وارد می کنید و مدل نوع گل نیلوفر را در یک فرم پاپ آپ برمی گرداند. توجه داشته باشید که محدوده هر متغیر ویژگی به شرح زیر است: <br>
                <span class="badge m-2 p-2" style="background-color: #213F99">  طول کاسبرگ (بین 4 و 8)    </span> <br>                             
                <span class="badge m-2 p-2" style="background-color: #213F99">    عرض کاسبرگ (بین 2 و 5)    </span> <br>
                <span class="badge m-2 p-2" style="background-color: #213F99">    طول گلبرگ (بین 1 و 7)      </span> <br>
                <span class="badge m-2 p-2" style="background-color: #213F99">  عرض گلبرگ (بین 0.1 و 3)    </span> <br>
                نمونه کد مورد استفاده برای آموزش مدل طبقه بندی “svm” در لینک بالای همین صفحه ارائه شده است. هر بار که این فرم را اجرا می کنید و پیش بینی های طبقه بندی اتفاق می افتد، مقادیر در پایگاه داده ذخیره می شوند و با لینک "نتایج" در بالای این صفحه، نتایج قبلی پیش بینی مدل را مشاهده خواهید کرد. اجرای اخیر شما به انتهای این لیست اضافه خواهد شد.
            
            </p>
            
        </div>
        
        
        
        
        
    </div>
</div>

<script>
    $(document).on('submit', '#post-form',function(e){
        e.preventDefault();
        $.ajax({
            type:'POST',
            url:'{% url "ml:submit_classification_svm" %}',
            data:{
                sepal_length:$('#sepal_length').val(),
                sepal_width:$('#sepal_width').val(),
                petal_length:$('#petal_length').val(),
                petal_width:$('#petal_width').val(),
                csrfmiddlewaretoken:$('input[name=csrfmiddlewaretoken]').val(),
                action: 'post'
            },
            success:function(json) {
                document.forms["post-form"].reset();
                document.getElementById("prediction").innerHTML = json['result']
                document.getElementById("sl").innerHTML = json['sepal_length']
                document.getElementById("sw").innerHTML = json['sepal_width']
                document.getElementById("pl").innerHTML = json['petal_length']
                document.getElementById("pw").innerHTML = json['petal_width']
            },
            error : function(xhr,errmsg,err) {

            }
        });
    })
</script>

{% endblock %}

